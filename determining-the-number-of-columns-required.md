# üìä Determining the Number of Columns Required

## üìò –¶–µ–ª—å

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ —Å `UNION`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º. –ë–µ–∑ —ç—Ç–æ–≥–æ –∏–Ω—ä–µ–∫—Ü–∏—è –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É.

---

## üß™ –î–≤–∞ –º–µ—Ç–æ–¥–∞:

### 1. `ORDER BY`

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å—ã —Å —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–º—Å—è —á–∏—Å–ª–æ–º:
```sql
' ORDER BY 1--  
' ORDER BY 2--  
' ORDER BY 3--  
...

–ö–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ ‚Äî –∑–Ω–∞—á–∏—Ç, –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Ü–∏—Ñ—Ä–∞ = –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–ª–æ–Ω–æ–∫.


 ### 2. 'UNION SELECT NULL,...'

 –ü—Ä–æ–±—É–µ–º –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ NULL, –ø–æ–∫–∞ –∑–∞–ø—Ä–æ—Å –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç:
 ' UNION SELECT NULL--  
' UNION SELECT NULL, NULL--  
' UNION SELECT NULL, NULL, NULL--  
...


üèÅ –ü—Ä–∏–º–µ—Ä –¥–ª—è Oracle:

–ù–∞ Oracle –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å FROM DUAL, –Ω–∞–ø—Ä–∏–º–µ—Ä:
' UNION SELECT NULL FROM DUAL--


‚ö†Ô∏è –û—à–∏–±–∫–∏

–ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ NULL –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º –∫–æ–ª–æ–Ω–æ–∫, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ –≤–∏–¥–∞:
All queries combined using a UNION, INTERSECT or EXCEPT operator must have the same number of columns


üß¨ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –°–£–ë–î:
	‚Ä¢	-- (–¥–≤–æ–π–Ω–æ–π –¥–µ—Ñ–∏—Å) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–≤ MySQL –Ω—É–∂–µ–Ω –ø—Ä–æ–±–µ–ª –ø–æ—Å–ª–µ –Ω–µ–≥–æ).
	‚Ä¢	–í MySQL —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å # –≤–º–µ—Å—Ç–æ --.
	‚Ä¢	–î–ª—è Oracle ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ FROM DUAL.

‚∏ª

üî¨ –ü—Ä–∞–∫—Ç–∏–∫–∞

üß™ Lab: SQL injection UNION attack, determining the number of columns returned by the query

–°—Ç–∞—Ç—É—Å: Not solved
üìå –ó–∞–¥–∞—á–∞ ‚Äî –Ω–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —É—è–∑–≤–∏–º—ã–º SELECT, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –≤ –±—É–¥—É—â–∏—Ö UNION-–∞—Ç–∞–∫–∞—Ö.

‚∏ª

üí≠ –í—ã–≤–æ–¥

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏—Å—Ö–æ–¥–Ω–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞ ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ UNION. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî –≤—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫–∏–µ —Å—Ç–æ–ª–±—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–µ –∏ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö.
